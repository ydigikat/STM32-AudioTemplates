# Top-Level Folder

The top-level folder contains all the template projects, the main README.md file,  this docs folder and a .gitignore file.  

Each project is located in a subdirectory with the directory name identifying the board to which it applies.

# Template Project Structure

The template projects are all structured the same way.

At the top-level you will find the following files:

|File|Description|
|----|-----------|
| CMakeLists.txt| The top-level project CMake file|
| CMakePresets.json| Debug and Release presets for CMake

You will also find 4 sub-directories:

|Directory|Description|
|---------|-----------|
|.vscode  | Contains json files used by VS Code (my preferred IDE)|
| build   | Build outputs from CMake, this will not be present until the project is configured|
| cmake   | A single stm_arm_gcc.cmake file which tells CMake where to find the required toolchain for building the projects|
| source | The source code for the template project|

### The .vscode directory

The files in here will only be useful for those people using the VS Code editor as their IDE.  

|File|Description|
|----|-----------|
| extensions.json| A list of recommended extensions needed to build the project in VSCode|
| launch.json| The debugger launch configuration |
| tasks.json | Tasks to build and flash the device |

If you are going to use VSCode then you will probably want to get the extensions, at the very least the C/C++ and CMake extensions from Microsoft are needed.  The rest are useful and add improved debugging capabilities.

Note that as an alternative to installing CMake and Ninja, you can use the <b>vcpkg</b> tooling recently introduced by Microsoft with their Embedded Tools extension.  Check out their site for more details.  

### The build directory
The CMake, Ninja and build artefacts all go here when the project is configured and built.  If you delete this folder you will need to recreate and empty build folder so that CMake can repopulate it.

The elf binary is put in this folder.

### The cmake directory
This contains files that are needed by the CMake system, in this case there is only a single file which provides specifics of the tooling I use to build the projects.

I use the STM toolchain supplied by the STMCubeCLT package.  If you don't use this, in its default installation location, you will need to amend paths in various files.

> <B> IMPORTANT:</b> I work on Linux, I don't provide a Windows alternative for this file however it is fairly easy to amend to work on Windows, it should be self-evident what needs to be fixed. Mostly just changes to tool paths and adding .exe suffix to tool names. 

### The source directory

This is the important one, this contains 4 further subdirectories that contain the source needed to build the template:

|Directory|Description|
|---------|-----------|
| app | The application source, this includes a ```main()``` with test tone generators showing how to use the template|
| bsp | This contains the board support functions (I2S, DMA, LEDs, BTN and Clocks only)
| drivers| The CMSIS and STM low-level drivers|
| startup | The startup (vector init) file|

It also contains a CMakeLists.txt file which defines how to build the application and a linker definition (scatter) file.

That pretty much wraps it up for the folder structure.

[Back to README](../README.md)








